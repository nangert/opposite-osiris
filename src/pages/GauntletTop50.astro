---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";

interface PlayerData {
  username: string;
  rating: number;
  place: number;
}
const response = await fetch(
  "https://api.duelyst2.com/blatmmr/v1/mmr/gauntlet-top50"
);
const data = await response.json();
const randomUser = data.players;
console.log(randomUser);
---

<Layout>
  <Header activeNav="gauntletTop50" />
  <div>
    <h1>Gauntlet Top 50 BlatMMR</h1>
    <br />
    <ul>
      {
        data.players.map((player: PlayerData) => (
          <li>
            <h4>
              Rank: {player.place} - {player.username}: {player.rating}
            </h4>
          </li>
        ))
      }
    </ul>
  </div>
  <Footer />
</Layout>
